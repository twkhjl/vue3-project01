import{d as v,u as _,r as u,a as B,o as f,c,b as t,e as d,t as C,f as F,w as m,v as h,i,g as A,h as V,j,F as g,k as D,l as E}from"./index.04cf8f68.js";const L=t("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css"},null,-1),M={class:"flex flex-col w-[100vw] h-[100vh] justify-center items-center"},S={class:"bg-gray-100 rounded-md shadow-md shadow-black border-t-[1px] relative"},N=t("div",{class:"absolute z-10 bg-teal-700 text-white top-[-17%] left-0 right-0 w-[120px] h-[120px] rounded-[100%] mx-auto text-center flex justify-center"},[t("div",{class:"leading-[120px] text-[60px]"},[t("i",{class:"fa-solid fa-user"})])],-1),T={class:"relative flex flex-col w-[70vw] h-auto px-6 pb-6 md:w-[35vw]"},U=t("div",{class:"text-4xl text-center mt-16 mb-4"},"\u5F8C\u53F0\u767B\u5165",-1),z={key:0,class:"text-xl text-red-400"},K={class:"relative flex items-center ml-0 mx-auto w-auto"},$=t("span",{class:"relative block h-[35px] w-[35px] rounded-sm border-4 border-green-700 hover:bg-green-200 peer-checked:bg-green-200 transition-all duration-200 after:top-4 after:left-3 after:absolute after:h-[0px] after:w-[0px] after:rotate-[225deg] after:border-t-[0px] after:border-l-[0px] after:border-t-green-700 after:border-l-green-700 peer-checked:after:h-[15px] peer-checked:after:w-[12px] peer-checked:after:border-t-[4px] peer-checked:after:border-l-[4px] peer-checked:after:top-1 peer-checked:after:left-2 after:transition-all after:duration-200"},null,-1),R=t("div",{class:"ml-2 relative transition-all duration-150 after:w-0 after:transition-all after:duration-150 after:absolute after:bottom-0 after:left-0 after:border-b-2 after:border-b-green-500 peer-checked:after:w-full peer-checked:font-extrabold"},"\u8A18\u4F4F\u6211",-1),q={key:1,class:"outline-none border-2 border-gray-300 bg-teal-400 text-black text-2xl w-full h-[7vh] rounded-md px-2 mt-7 text-center leading-[7vh]"},G=t("i",{class:"animate-spin mr-2 fa-solid fa-arrows-spin"},null,-1),H=v({__name:"loginForm",setup(w){const l=_();let o=u(null),s=u(null),n=u(!1),a=u(!0),p=u("");const x={err:"\u5E33\u865F\u6216\u5BC6\u78BC\u932F\u8AA4",server:"\u7CFB\u7D71\u7570\u5E38,\u8ACB\u806F\u7D61\u7BA1\u7406\u54E1\u8655\u7406"};B(()=>{});function k(){return l.isLoading()}async function y(){l.set_remember_me_state(n.value);let b={name:o.value,password:s.value};l.startLoading();let e=await l.login(b,{name:"admin.main"});if(l.stopLoading(),e.error)return p.value=x.err,a.value=!1;if(!e.user||!e.token)return p.value=x.server,a.value=!1;l.saveAdmin(e.user),l.saveToken(e.token),a.value=!0}return(b,e)=>(f(),c(g,null,[L,t("div",M,[t("div",S,[N,t("form",T,[U,d(a)?F("",!0):(f(),c("div",z,C(d(p)),1)),m(t("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>i(o)?o.value=r:o=r),onKeyup:e[1]||(e[1]=r=>i(a)?a.value=!0:a=!0),class:"outline-none border-2 border-gray-300 w-full h-[40px] rounded-md px-2 mb-4",type:"text",placeholder:"\u5E33\u865F"},null,544),[[h,d(o)]]),m(t("input",{"onUpdate:modelValue":e[2]||(e[2]=r=>i(s)?s.value=r:s=r),onKeyup:e[3]||(e[3]=r=>i(a)?a.value=!0:a=!0),class:"outline-none border-2 border-gray-300 w-full h-[40px] rounded-md px-2 mb-4",type:"password",placeholder:"\u5BC6\u78BC"},null,544),[[h,d(s)]]),t("label",K,[m(t("input",{type:"checkbox","onUpdate:modelValue":e[4]||(e[4]=r=>i(n)?n.value=r:n=r),class:"peer absolute left-0 h-0 w-0"},null,512),[[A,d(n)]]),$,R]),k()?(f(),c("span",q,[G,V("\u8ACB\u7A0D\u5019...")])):(f(),c("button",{key:2,onClick:e[5]||(e[5]=j(r=>y(),["prevent"])),class:"outline-none hover:bg-teal-500 bg-teal-600 text-white text-2xl w-full h-[7vh] rounded-md px-2 mt-7"},"\u767B\u5165"))])])])],64))}}),I=t("div",{class:"fixed w-full h-full bg-gray-700 -z-50"},null,-1),O=v({__name:"Login",setup(w){const l=_();return D(async()=>{await l.validataAdminState()}),(o,s)=>(f(),c(g,null,[I,E(H)],64))}});export{O as default};
