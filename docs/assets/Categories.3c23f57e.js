import{d as _,o as c,c as i,b as t,t as f,r as h,u as v,a as g,l as y,x as w,F as k,E as C,s as x,e as u,L as S,B as F,p as B,q as A,k as E}from"./index.8b156eb2.js";import{u as $}from"./category.0e82e4f4.js";import{a as p,u as D}from"./global_modal.677d112b.js";import{_ as I}from"./_plugin-vue_export-helper.cdc0426e.js";const T={class:"odd:bg-gray-200 border-b-2 border-black hover:bg-gray-300"},R={class:"border-r-2 border-r-black text-center"},G={class:"border-r-2 border-r-black px-2"},L={class:"w-[20vw] text-xl mx-auto"},M={class:"flex justify-around"},N=t("button",{class:"my-2 text-teal-700 hover:scale-125 transition-all duration-100"},[t("i",{class:"fa-solid fa-pen-to-square"}),t("span",{class:"hidden sm:inline-block"},"\u7DE8\u8F2F")],-1),V=t("i",{class:"fa-solid fa-xmark"},null,-1),q=t("span",{class:"hidden sm:inline-block"},"\u522A\u9664",-1),j=[V,q],O=_({__name:"categoriesTableRow",props:["category","idx","store","data"],emits:["onRemoveEvent"],setup(o,{emit:a}){const e=p();function r(l){e.use_confirm(),e.set_content("\u662F\u5426\u78BA\u8A8D\u522A\u9664\u6B64\u7B46\u8CC7\u6599?"),e.set_confirm_btn_text("\u6C92\u932F!"),e.set_cancel_btn_text("\u6211\u518D\u60F3\u60F3.."),e.set_confirm_callback_fn(n,l),e.set_confirm_callback_type_async(),e.toggle()}async function n(l){await a("onRemoveEvent",l)}return(l,s)=>(c(),i("tr",T,[t("td",R,f(o.idx),1),t("td",G,f(o.category.name),1),t("td",L,[t("div",M,[N,t("button",{onClick:s[0]||(s[0]=m=>r(o.category.id)),class:"my-2 text-red-700 hover:scale-125 transition-all duration-100"},j)])])]))}}),z=o=>(B("data-v-e3880d14"),o=o(),A(),o),H={class:"mt-4 mx-auto border-gray-100 border-2 p-4 w-[95vw] sm:w-[60vw]"},J=F('<div class="w-full mb-4 flex items-center relative" data-v-e3880d14><div class="text-[6vw] sm:text-[3vw] font-extrabold ml-0 mx-auto" data-v-e3880d14>\u5206\u985E\u5217\u8868</div><button class="absolute right-4 hover:animate-pulse hover:font-extrabold hover:text-green-600" data-v-e3880d14><i class="fa-solid fa-magnifying-glass" data-v-e3880d14></i></button><input class="w-[55vw] sm:w-auto h-[5vh] border-2 border-black rounded-full outline-none pl-4 my-2 text-xl focus:outline-4 focus:outline-offset-0 focus:outline-gray-400" type="text" placeholder="\u8F38\u5165\u95DC\u9375\u5B57..." data-v-e3880d14></div>',1),K={class:"table-auto w-full border-[1px] border-gray-400"},P=z(()=>t("thead",{class:"text-2xl text-center font-extrabold border-b-4 border-b-black"},[t("th",{class:"w-10"},"#"),t("th",{class:"border-black border-x-2"},"\u5206\u985E\u540D\u7A31"),t("th")],-1)),Q={class:"text-xl"},U=_({__name:"categoriesTable",setup(o){let a=h(null);v();const e=$(),r=p(),n=D();g(async()=>{window.scrollTo({top:0,behavior:"smooth"}),n.start_loading();let s=await e.all();s.error||(a.value=s),n.stop_loading()});async function l(s){n.start_loading(),(await e.destroy({id:s})).error||(a.value=a.value.filter(d=>d.id!==s)),n.stop_loading(),r.hide(),r.use_alert(),r.set_content("\u8CC7\u6599\u5DF2\u6210\u529F\u522A\u9664"),r.show()}return(s,m)=>(c(),i("div",H,[J,t("table",K,[P,t("tbody",Q,[y(S,{name:"fade"},{default:w(()=>[(c(!0),i(k,null,C(u(a),(d,b)=>(c(),x(O,{key:b,category:d,idx:b+1,store:u(e),data:u(a),onOnRemoveEvent:l},null,8,["category","idx","store","data"]))),128))]),_:1})])])]))}});const W=I(U,[["__scopeId","data-v-e3880d14"]]),et=_({__name:"Categories",setup(o){const a=v();return E(async()=>{await a.validataAdminState()}),(e,r)=>(c(),x(W))}});export{et as default};
